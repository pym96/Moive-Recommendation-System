{"remainingRequest":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/babel-loader/lib/index.js!/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/src/components/MovieCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/src/components/MovieCard.vue","mtime":1650712000000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0Q29tbWVudHMgfSBmcm9tICdAL2FwaS9tb3ZpZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibW92aWUtY2FyZCIsCiAgcHJvcHM6IHsKICAgIG1vdmllOiBPYmplY3QsCiAgICBjYXJkVGl0bGU6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0YWJsZUxvYWRpbmc6IGZhbHNlLAogICAgICBzZWxlY3Rpb246IC0xLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBjb21tZW50czogW10gLy8gY29tbWVudHM6IFt7J2NvbW1lbnQnOifov5npg6jnlLXlvbHov5jkuI3plJnnmoTlk6Ys5aaC5p6c5piv5b6I5aSa5b6I5aSa5a2X5oCO5LmI6K+05ZGi77yM5Zev5ZGi77yf77yf77yf77yf77yf4oCYJywnbGFiZWwnOidwb3NpdGl2ZScsJ3Njb3JlJzo5OC4xMTJ9LAogICAgICAvLyAgIHsnY29tbWVudCc6J+WxnuWunuS4jeefpemBk+ivpeaAjuS5iOWOu+ivhOS7t++8jOacieeCueS4jeefpeaJgOS6kScsJ2xhYmVsJzonbmVnYXRpdmUnLCdzY29yZSc6OTEuMjN9XSwKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZG91YmFuSW1nOiBmdW5jdGlvbiBkb3ViYW5JbWcoc3JjKSB7CiAgICAgIHZhciB0cnVlU3JjID0gJyc7CiAgICAgIGlmIChzcmMgIT0gbnVsbCAmJiBzcmMuc3RhcnRzV2l0aCgiaHR0cDovL2xvY2FsaG9zdDo4MDgwIikpIHRydWVTcmMgPSBzcmM7ZWxzZSB0cnVlU3JjID0gJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC8/dXJsPScgKyBzcmM7CiAgICAgIHJldHVybiB0cnVlU3JjOwogICAgfSwKICAgIHJlc2VydmU6IGZ1bmN0aW9uIHJlc2VydmUodXJsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB1cmwgPSAiaHR0cHM6Ly9tb3ZpZS5kb3ViYW4uY29tL3N1YmplY3QvIiArIHVybDsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHdpbmRvdy5vcGVuKHVybCk7CiAgICAgIH0sIDIwMDApOwogICAgfSwKICAgIGdldENvbW1lbnRzQnlEb3ViYW5JZDogZnVuY3Rpb24gZ2V0Q29tbWVudHNCeURvdWJhbklkKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy50YWJsZUxvYWRpbmcgPSB0cnVlOyAvLyBjb25zb2xlLmxvZygiZG91YmFuX2lkIiwgaWQpCgogICAgICB2YXIgZm9ybSA9IHsKICAgICAgICAiZG91YmFuX2lkIjogaWQKICAgICAgfTsKICAgICAgZ2V0Q29tbWVudHMoZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgX3RoaXMyLmNvbW1lbnRzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICBpZiAoX3RoaXMyLmNvbW1lbnRzLmxlbmd0aCA9PSAwKSBfdGhpczIuJHNuYWNrYmFyKHsKICAgICAgICAgIGNvbnRlbnQ6ICfmmoLml6DlvbHor4TmlbDmja7vvIEnLAogICAgICAgICAgdG9wOiB0cnVlLAogICAgICAgICAgY2VudGVyOiB0cnVlLAogICAgICAgICAgY29sb3I6ICdyZWQnLAogICAgICAgICAgbXVsdGlMaW5lOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLnRhYmxlTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MovieCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA,SAAA,WAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA,MADA;AAEA,IAAA,SAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,CAAA,CAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAKA,MAAA,QAAA,EAAA,EALA,CAMA;AACA;;AAPA,KAAA;AAAA,GANA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,GADA,EACA;AACA,UAAA,OAAA,GAAA,EAAA;AACA,UAAA,GAAA,IAAA,IAAA,IAAA,GAAA,CAAA,UAAA,CAAA,uBAAA,CAAA,EACA,OAAA,GAAA,GAAA,CADA,KAGA,OAAA,GAAA,mCAAA,GAAA;AACA,aAAA,OAAA;AACA,KARA;AASA,IAAA,OATA,mBASA,GATA,EASA;AAAA;;AACA,MAAA,GAAA,GAAA,sCAAA,GAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAHA,EAIA,IAJA,CAAA;AAKA,KAjBA;AAkBA,IAAA,qBAlBA,iCAkBA,EAlBA,EAkBA;AAAA;;AACA,WAAA,YAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,IAAA,GAAA;AAAA,qBAAA;AAAA,OAAA;AACA,MAAA,WAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EACA,MAAA,CAAA,SAAA,CAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,GAAA,EAAA,IAAA;AAAA,UAAA,MAAA,EAAA,IAAA;AAAA,UAAA,KAAA,EAAA,KAAA;AAAA,UAAA,SAAA,EAAA;AAAA,SAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,KAAA;AACA,OANA;AAOA;AA7BA;AAfA,CAAA","sourcesContent":["<template>\n  <v-card\n      :loading=\"loading\"\n      class=\"mx-auto my-12\"\n      max-width=\"374\"\n  >\n    <template slot=\"progress\">\n      <v-progress-linear\n          color=\"deep-purple\"\n          height=\"10\"\n          indeterminate\n      ></v-progress-linear>\n    </template>\n\n    <v-img\n        height=\"250\"\n        :src=\"doubanImg(movie.cover)\"\n    ></v-img>\n\n    <v-card-title>{{movie.name}}\n      <span class=\"ml-3\" style=\"font-size: 2px;\">{{movie.alias}} </span>\n    </v-card-title>\n\n    <v-card-text>\n      <v-row\n          align=\"center\"\n          class=\"mx-0\"\n      >\n        <v-rating\n            :value=\"movie.douban_score/2.0\"\n            color=\"amber\"\n            dense\n            half-increments\n            readonly\n            size=\"14\"\n        ></v-rating>\n\n        <div class=\"grey--text ms-4\">\n          {{movie.douban_score}} ({{movie.douban_votes}})\n        </div>\n      </v-row>\n\n      <div class=\"my-4 text-subtitle-1\">\n        {{movie.genres}}·{{movie.regions}}\n      </div>\n\n      <div class=\"my-4 text-subtitle-1\">\n        {{movie.director}}\n      </div>\n\n      <div>{{movie.intro}}</div>\n    </v-card-text>\n\n    <v-divider class=\"mx-4\"></v-divider>\n\n    <v-card-title>介绍</v-card-title>\n\n    <v-card-text>\n      <div class=\"my-4 text-subtitle-2\" v-if=\"movie.actors\">\n       演员： {{movie.actors.substring(0,20)}}..等\n      </div>\n      <div class=\"my-4 text-subtitle-2\" v-if=\"movie.directors\">\n       导演： {{movie.directors}}\n      </div>\n      <div class=\"my-4 text-subtitle-3\" v-if=\"movie.storyline\">\n        简介： {{movie.storyline.substring(0,50)}}...\n      </div>\n    </v-card-text>\n\n    <v-card-actions>\n      <v-btn\n          color=\"deep-purple lighten-2\"\n          text\n          @click=\"reserve(movie.douban_id)\">\n        详情\n      </v-btn>\n\n      <v-dialog\n          v-model=\"dialog\"\n          scrollable\n          max-width=\"900\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n              color=\"primary\"\n              text\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              @click=\"getCommentsByDoubanId(movie.douban_id)\"\n          >\n            影评情感分析\n          </v-btn>\n        </template>\n        <v-card :loading=\"tableLoading\">\n          <v-card-title>精选影评</v-card-title>\n          <v-divider></v-divider>\n          <v-card-text style=\"height: 500px\">\n            <v-simple-table >\n              <template v-slot:default>\n            <thead>\n            <tr>\n              <th class=\"text-left\">\n                头像(avatar)\n              </th>\n              <th class=\"text-left\">\n                用户(user)\n              </th>\n              <th class=\"text-left\">\n                评论(comment)\n              </th>\n              <th class=\"text-left\">\n                情感分类(label)\n              </th>\n              <th class=\"text-left\">\n                概率(prob0)\n              </th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr\n                v-for=\"(item,index) in comments\"\n                :key=\"index\"\n            >\n              <td><img :src=\"item.douban_user_avatar\"/></td>\n              <td>{{ item.douban_user_nickname }}</td>\n              <td>{{ item.content }}</td>\n              <td>\n                <div v-if=\"item.label=='positive'\">\n                  好评\n                  <v-icon\n                      large\n                      color=\"green\"\n                  >\n                    mdi-thumb-up\n                  </v-icon>\n                </div>\n                <div v-if=\"item.label=='negative'\">\n                  差评\n                  <v-icon\n                      large\n                      color=\"red\"\n                  >\n                    mdi-thumb-down\n                  </v-icon>\n                </div>\n              </td>\n              <td>{{ item.score * 100}}%</td>\n            </tr>\n            </tbody>\n              </template>\n            </v-simple-table>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-btn\n                color=\"teal darken-1\"\n                text\n                @click=\"dialog = false\"\n            >\n              关闭\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport {getComments} from '@/api/movie'\n\nexport default {\n  name: \"movie-card\",\n  props: {\n    movie: Object,\n    cardTitle: String\n  },\n  data: () => ({\n    loading: false,\n    tableLoading: false,\n    selection: -1,\n    dialog: false,\n    comments: []\n    // comments: [{'comment':'这部电影还不错的哦,如果是很多很多字怎么说呢，嗯呢？？？？？‘','label':'positive','score':98.112},\n    //   {'comment':'属实不知道该怎么去评价，有点不知所云','label':'negative','score':91.23}],\n  }),\n  methods: {\n    doubanImg(src) {\n      let trueSrc = ''\n      if(src!=null && src.startsWith(\"http://localhost:8080\"))\n        trueSrc = src\n      else\n        trueSrc = 'https://images.weserv.nl/?url=' + src\n      return trueSrc\n    },\n    reserve (url) {\n      url = \"https://movie.douban.com/subject/\" + url\n      this.loading = true\n      setTimeout(() => {\n            this.loading = false\n            window.open(url)\n          }\n      , 2000)\n    },\n    getCommentsByDoubanId(id){\n      this.tableLoading = true\n      // console.log(\"douban_id\", id)\n      const form = {\"douban_id\": id}\n      getComments(form).then(res=>{\n        // console.log(res.data)\n        this.comments = res.data.data\n        if(this.comments.length == 0)\n          this.$snackbar({content: '暂无影评数据！', top:true, center:true, color:'red',multiLine: true})\n        this.tableLoading = false\n      })\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/components"}]}