{"remainingRequest":"/Users/panyiming/Documents/code/Movie recommdation system/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/panyiming/Documents/code/Movie recommdation system/vue/src/components/SearchBox.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/panyiming/Documents/code/Movie recommdation system/vue/src/components/SearchBox.vue","mtime":1650415012000},{"path":"/Users/panyiming/Documents/code/Movie recommdation system/vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/Movie recommdation system/vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/Movie recommdation system/vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/Movie recommdation system/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/Movie recommdation system/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRyYW5zcGFyZW50LXNjcm9sbCB7CiAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluOwogIHNjcm9sbGJhci1jb2xvcjogdHJhbnNwYXJlbnQ7Cn0KLnRyYW5zcGFyZW50LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIgewogIHdpZHRoOiA2cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7Cn0KLnRyYW5zcGFyZW50LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogIGJhY2tncm91bmQ6ICNkOGRjZGU7CiAgYm9yZGVyLXJhZGl1czogNC41cHg7Cn0KLnRyYW5zcGFyZW50LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Owp9Cg=="},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchBox.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-autocomplete\n    outlined\n    rounded\n    :loading=\"loading\"\n    dense\n    clearable\n    :menu-props=\"{ contentClass: 'transparent-scroll' }\"\n    :items=\"searchItems\"\n    item-text=\"title\"\n    color=\"#4edf93\"\n    :search-input.sync=\"searchTerm\"\n    no-data-text=\"尝试输入电影名...\"\n    placeholder=\"输入关键词\"\n  >\n    <template #prepend-inner>\n      <v-icon size=\"18\" class=\"mt-1 mr-2\">$search</v-icon>\n    </template>\n    <template #append>\n      <v-icon @click=\"voiceSearch\" size=\"21\">$microphone</v-icon>\n    </template>\n\n    <template #item=\"{item}\" class=\"mt-12\">\n      <v-list-item two-line :to=\"`/search?q=${item.title}`\">\n        <v-list-item-content class=\"text-left\">\n          <v-list-item-title>{{ item.title }}</v-list-item-title>\n          <v-list-item-subtitle>{{ item.type }}</v-list-item-subtitle>\n        </v-list-item-content>\n      </v-list-item>\n    </template>\n  </v-autocomplete>\n</template>\n\n<script>\nimport {get} from \"../api/movie\";\nimport lodash from \"lodash\"\n\nexport default {\n  name: \"search-box\",\n  data: () => ({\n    searchTerm: \"\",\n    loading: false,\n    searchItems: [],\n  }),\n  watch: {\n    searchTerm() {\n      this.doSearch()\n    },\n  },\n  methods: {\n    voiceSearch() {},\n    doSearch: _.debounce(function(){\n      console.log(\"searchTerm\",this.searchTerm)\n\n      if (!this.searchTerm)\n        this.searchItems = [];\n      this.loading = true;\n      if(this.searchTerm == null)\n        return\n\n      get({\"keyword\": this.searchTerm}).then(res=>{\n        this.$emit('search-movie', res.data.data)\n        // console.log(res.data.data)\n        this.loading = false\n      })\n\n      this.loading = false;\n      // console.log(this.searchTerm)\n      //在下面进行搜索\n    },2000)\n  },\n};\n</script>\n\n<style>\n.transparent-scroll {\n  scrollbar-width: thin;\n  scrollbar-color: transparent;\n}\n.transparent-scroll::-webkit-scrollbar {\n  width: 6px;\n  background-color: transparent;\n}\n.transparent-scroll::-webkit-scrollbar-thumb {\n  background: #d8dcde;\n  border-radius: 4.5px;\n}\n.transparent-scroll::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n</style>\n"]}]}