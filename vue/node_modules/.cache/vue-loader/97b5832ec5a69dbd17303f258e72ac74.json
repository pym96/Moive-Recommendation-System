{"remainingRequest":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/src/components/MovieCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/src/components/MovieCard.vue","mtime":1650712000000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panyiming/Documents/code/python豆瓣电影情感分析推荐系统/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0Q29tbWVudHN9IGZyb20gJ0AvYXBpL21vdmllJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJtb3ZpZS1jYXJkIiwKICBwcm9wczogewogICAgbW92aWU6IE9iamVjdCwKICAgIGNhcmRUaXRsZTogU3RyaW5nCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgbG9hZGluZzogZmFsc2UsCiAgICB0YWJsZUxvYWRpbmc6IGZhbHNlLAogICAgc2VsZWN0aW9uOiAtMSwKICAgIGRpYWxvZzogZmFsc2UsCiAgICBjb21tZW50czogW10KICAgIC8vIGNvbW1lbnRzOiBbeydjb21tZW50Jzon6L+Z6YOo55S15b2x6L+Y5LiN6ZSZ55qE5ZOmLOWmguaenOaYr+W+iOWkmuW+iOWkmuWtl+aAjuS5iOivtOWRou+8jOWXr+WRou+8n++8n++8n++8n++8n+KAmCcsJ2xhYmVsJzoncG9zaXRpdmUnLCdzY29yZSc6OTguMTEyfSwKICAgIC8vICAgeydjb21tZW50Jzon5bGe5a6e5LiN55+l6YGT6K+l5oCO5LmI5Y676K+E5Lu377yM5pyJ54K55LiN55+l5omA5LqRJywnbGFiZWwnOiduZWdhdGl2ZScsJ3Njb3JlJzo5MS4yM31dLAogIH0pLAogIG1ldGhvZHM6IHsKICAgIGRvdWJhbkltZyhzcmMpIHsKICAgICAgbGV0IHRydWVTcmMgPSAnJwogICAgICBpZihzcmMhPW51bGwgJiYgc3JjLnN0YXJ0c1dpdGgoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MCIpKQogICAgICAgIHRydWVTcmMgPSBzcmMKICAgICAgZWxzZQogICAgICAgIHRydWVTcmMgPSAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sLz91cmw9JyArIHNyYwogICAgICByZXR1cm4gdHJ1ZVNyYwogICAgfSwKICAgIHJlc2VydmUgKHVybCkgewogICAgICB1cmwgPSAiaHR0cHM6Ly9tb3ZpZS5kb3ViYW4uY29tL3N1YmplY3QvIiArIHVybAogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB3aW5kb3cub3Blbih1cmwpCiAgICAgICAgICB9CiAgICAgICwgMjAwMCkKICAgIH0sCiAgICBnZXRDb21tZW50c0J5RG91YmFuSWQoaWQpewogICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWUKICAgICAgLy8gY29uc29sZS5sb2coImRvdWJhbl9pZCIsIGlkKQogICAgICBjb25zdCBmb3JtID0geyJkb3ViYW5faWQiOiBpZH0KICAgICAgZ2V0Q29tbWVudHMoZm9ybSkudGhlbihyZXM9PnsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICB0aGlzLmNvbW1lbnRzID0gcmVzLmRhdGEuZGF0YQogICAgICAgIGlmKHRoaXMuY29tbWVudHMubGVuZ3RoID09IDApCiAgICAgICAgICB0aGlzLiRzbmFja2Jhcih7Y29udGVudDogJ+aaguaXoOW9seivhOaVsOaNru+8gScsIHRvcDp0cnVlLCBjZW50ZXI6dHJ1ZSwgY29sb3I6J3JlZCcsbXVsdGlMaW5lOiB0cnVlfSkKICAgICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["MovieCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MovieCard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card\n      :loading=\"loading\"\n      class=\"mx-auto my-12\"\n      max-width=\"374\"\n  >\n    <template slot=\"progress\">\n      <v-progress-linear\n          color=\"deep-purple\"\n          height=\"10\"\n          indeterminate\n      ></v-progress-linear>\n    </template>\n\n    <v-img\n        height=\"250\"\n        :src=\"doubanImg(movie.cover)\"\n    ></v-img>\n\n    <v-card-title>{{movie.name}}\n      <span class=\"ml-3\" style=\"font-size: 2px;\">{{movie.alias}} </span>\n    </v-card-title>\n\n    <v-card-text>\n      <v-row\n          align=\"center\"\n          class=\"mx-0\"\n      >\n        <v-rating\n            :value=\"movie.douban_score/2.0\"\n            color=\"amber\"\n            dense\n            half-increments\n            readonly\n            size=\"14\"\n        ></v-rating>\n\n        <div class=\"grey--text ms-4\">\n          {{movie.douban_score}} ({{movie.douban_votes}})\n        </div>\n      </v-row>\n\n      <div class=\"my-4 text-subtitle-1\">\n        {{movie.genres}}·{{movie.regions}}\n      </div>\n\n      <div class=\"my-4 text-subtitle-1\">\n        {{movie.director}}\n      </div>\n\n      <div>{{movie.intro}}</div>\n    </v-card-text>\n\n    <v-divider class=\"mx-4\"></v-divider>\n\n    <v-card-title>介绍</v-card-title>\n\n    <v-card-text>\n      <div class=\"my-4 text-subtitle-2\" v-if=\"movie.actors\">\n       演员： {{movie.actors.substring(0,20)}}..等\n      </div>\n      <div class=\"my-4 text-subtitle-2\" v-if=\"movie.directors\">\n       导演： {{movie.directors}}\n      </div>\n      <div class=\"my-4 text-subtitle-3\" v-if=\"movie.storyline\">\n        简介： {{movie.storyline.substring(0,50)}}...\n      </div>\n    </v-card-text>\n\n    <v-card-actions>\n      <v-btn\n          color=\"deep-purple lighten-2\"\n          text\n          @click=\"reserve(movie.douban_id)\">\n        详情\n      </v-btn>\n\n      <v-dialog\n          v-model=\"dialog\"\n          scrollable\n          max-width=\"900\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n              color=\"primary\"\n              text\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              @click=\"getCommentsByDoubanId(movie.douban_id)\"\n          >\n            影评情感分析\n          </v-btn>\n        </template>\n        <v-card :loading=\"tableLoading\">\n          <v-card-title>精选影评</v-card-title>\n          <v-divider></v-divider>\n          <v-card-text style=\"height: 500px\">\n            <v-simple-table >\n              <template v-slot:default>\n            <thead>\n            <tr>\n              <th class=\"text-left\">\n                头像(avatar)\n              </th>\n              <th class=\"text-left\">\n                用户(user)\n              </th>\n              <th class=\"text-left\">\n                评论(comment)\n              </th>\n              <th class=\"text-left\">\n                情感分类(label)\n              </th>\n              <th class=\"text-left\">\n                概率(prob0)\n              </th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr\n                v-for=\"(item,index) in comments\"\n                :key=\"index\"\n            >\n              <td><img :src=\"item.douban_user_avatar\"/></td>\n              <td>{{ item.douban_user_nickname }}</td>\n              <td>{{ item.content }}</td>\n              <td>\n                <div v-if=\"item.label=='positive'\">\n                  好评\n                  <v-icon\n                      large\n                      color=\"green\"\n                  >\n                    mdi-thumb-up\n                  </v-icon>\n                </div>\n                <div v-if=\"item.label=='negative'\">\n                  差评\n                  <v-icon\n                      large\n                      color=\"red\"\n                  >\n                    mdi-thumb-down\n                  </v-icon>\n                </div>\n              </td>\n              <td>{{ item.score * 100}}%</td>\n            </tr>\n            </tbody>\n              </template>\n            </v-simple-table>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-btn\n                color=\"teal darken-1\"\n                text\n                @click=\"dialog = false\"\n            >\n              关闭\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport {getComments} from '@/api/movie'\n\nexport default {\n  name: \"movie-card\",\n  props: {\n    movie: Object,\n    cardTitle: String\n  },\n  data: () => ({\n    loading: false,\n    tableLoading: false,\n    selection: -1,\n    dialog: false,\n    comments: []\n    // comments: [{'comment':'这部电影还不错的哦,如果是很多很多字怎么说呢，嗯呢？？？？？‘','label':'positive','score':98.112},\n    //   {'comment':'属实不知道该怎么去评价，有点不知所云','label':'negative','score':91.23}],\n  }),\n  methods: {\n    doubanImg(src) {\n      let trueSrc = ''\n      if(src!=null && src.startsWith(\"http://localhost:8080\"))\n        trueSrc = src\n      else\n        trueSrc = 'https://images.weserv.nl/?url=' + src\n      return trueSrc\n    },\n    reserve (url) {\n      url = \"https://movie.douban.com/subject/\" + url\n      this.loading = true\n      setTimeout(() => {\n            this.loading = false\n            window.open(url)\n          }\n      , 2000)\n    },\n    getCommentsByDoubanId(id){\n      this.tableLoading = true\n      // console.log(\"douban_id\", id)\n      const form = {\"douban_id\": id}\n      getComments(form).then(res=>{\n        // console.log(res.data)\n        this.comments = res.data.data\n        if(this.comments.length == 0)\n          this.$snackbar({content: '暂无影评数据！', top:true, center:true, color:'red',multiLine: true})\n        this.tableLoading = false\n      })\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}