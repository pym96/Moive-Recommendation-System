{"remainingRequest":"/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/src/views/Pages/AccountSettingsAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/src/views/Pages/AccountSettingsAccount.vue","mtime":1734673250147},{"path":"/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jason/Desktop/基于机器学习的电影推荐系统/python豆瓣电影情感分析推荐系统（12-23）/python豆瓣电影情感分析推荐系统/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUFsZXJ0T3V0bGluZSwgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcycKaW1wb3J0IHtkb3VwbG9hZH0gZnJvbSAiLi4vLi4vYXBpL3VwbG9hZCI7CmltcG9ydCB7Z2V0LCB1cGRhdGV9IGZyb20gIi4uLy4uL2FwaS91c2VyIjsKaW1wb3J0IG1peGluIGZyb20gIi4uLy4uL21peGlucy9taXhpbnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6e30sCiAgbWl4aW5zOiBbbWl4aW5dLAogIHByb3BzOiB7CiAgICBhY2NvdW50RGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LAogICAgfSwKICB9LAogIGRhdGEgOiAoKSA9PiAoewogICAgc3RhdHVzOiBbJ+axn+iLj+ecgScsICfljJfkuqzluIInLCAn5LiK5rW35biCJywgJ+a3seWcs+W4giddLAogICAgYWNjb3VudERhdGFMb2NhbGU6IFtdLAogICAgaWNvbnM6IHsKICAgICAgbWRpQWxlcnRPdXRsaW5lLAogICAgICBtZGlDbG91ZFVwbG9hZE91dGxpbmUsCiAgICB9LAogICAgYXZhdGFyOiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvYXZhdGFycy8xLnBuZycpLAogICAgaW5mbzoge30KICB9KSwKICBhc3luYyBtb3VudGVkKCkgewogICAgdGhpcy5hY2NvdW50RGF0YUxvY2FsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5hY2NvdW50RGF0YSkpCiAgICBhd2FpdCBnZXQodGhpcy51aWQpLnRoZW4ocmVzID0+IHsKICAgICAgIHRoaXMuaW5mbyA9IHJlcy5kYXRhLmRhdGEKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbmZvKQogICAgfSkKICB9LAogIG1ldGhvZHM6ewogICAgcmVzZXRGb3JtKCl7CiAgICAgIHRoaXMuYWNjb3VudERhdGFMb2NhbGUudmFsdWUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYWNjb3VudERhdGEpKQogICAgfSwKICAgIGdldEltYWdlcyhlbCl7CiAgICAgIGNvbnN0IGZpbGUgPSBlbC50YXJnZXQuZmlsZXNbMF0KICAgICAgY29uc29sZS5sb2coZmlsZSkKICAgICAgY29uc3QgdHlwZSA9IGZpbGUudHlwZS5zcGxpdCgiLyIpWzBdCiAgICAgIGlmICh0eXBlID09PSAiaW1hZ2UiKXsKICAgICAgICBkb3VwbG9hZChmaWxlKS50aGVuKHJlcz0+ewogICAgICAgICAgdGhpcy5hdmF0YXIgPSB0aGlzLnNlcnZlckltZyhyZXMuZGF0YS5kYXRhKQogICAgICAgICAgdGhpcy5pbmZvLmF2YXRhciA9IHRoaXMuc2VydmVySW1nKHJlcy5kYXRhLmRhdGEpCiAgICAgICAgfSkKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy4kc25hY2tiYXIoe2NvbnRlbnQ6ICflj6rog73kuIrkvKDlm77niYfmoLzlvI8nLCB0b3A6dHJ1ZSwgY2VudGVyOnRydWUsIGNvbG9yOidyZWQnLG11bHRpTGluZTogdHJ1ZX0pCiAgICAgIH0KICAgIH0sCiAgICBzYXZlKCl7CiAgICAgIGNvbnN0IGZvcm0gPSB7ImlkIiA6dGhpcy51aWQsICJwaG9uZSI6IHRoaXMuaW5mby5waG9uZSwgImVtYWlsIjogdGhpcy5pbmZvLmVtYWlsLCAiYWRkciI6IHRoaXMuaW5mby5hZGRyICwKICAgICAgImF2YXRhciI6IHRoaXMuaW5mby5hdmF0YXIsICJpbnRybyI6IHRoaXMuaW5mby5pbnRybyAsICJhZ2UiOnRoaXMuaW5mby5hZ2UsICJyZWFsbmFtZSI6ICIifQogICAgICB1cGRhdGUoZm9ybSkudGhlbigoKT0+ewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRBdmF0YXInLCB0aGlzLmluZm8uYXZhdGFyKSAgLy/orr7nva7kuIDkuIvlpLTlg48KICAgICAgICB0aGlzLiRzbmFja2Jhcih7Y29udGVudDogJ+abtOaWsOaIkOWKnycsIHRvcDp0cnVlLCBjZW50ZXI6dHJ1ZSwgY29sb3I6J2dyZWVuJyxtdWx0aUxpbmU6IHRydWV9KQogICAgICB9KQogICAgfQogIH0sCn0K"},{"version":3,"sources":["AccountSettingsAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2MA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountSettingsAccount.vue","sourceRoot":"src/views/Pages","sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-card-text class=\"d-flex\">\n      <v-avatar\n        rounded\n        size=\"120\"\n        class=\"me-6\"\n      >\n        <v-img v-if=\"info.avatar==null\" :src=\"avatar\"></v-img>\n        <v-img v-else :src=\"info.avatar\"></v-img>\n      </v-avatar>\n\n      <!-- upload photo -->\n      <div>\n        <v-btn\n          color=\"primary\"\n          class=\"me-3 mt-5\"\n          @click=\"$refs.refInputEl.click()\"\n        >\n          <v-icon class=\"d-sm-none\">\n            {{ icons.mdiCloudUploadOutline }}\n          </v-icon>\n          <span class=\"d-none d-sm-block\">上传新头像</span>\n        </v-btn>\n\n        <input\n          ref=\"refInputEl\"\n          type=\"file\"\n          accept=\".jpeg,.png,.jpg,GIF\"\n          :hidden=\"true\"\n          @change=\"getImages\"\n        />\n\n        <v-btn\n          color=\"error\"\n          outlined\n          class=\"mt-5\"\n        >\n          重置\n        </v-btn>\n        <p class=\"text-sm mt-5\">\n          允许 JPG, GIF 和 PNG. 不大于  800K\n        </p>\n      </div>\n    </v-card-text>\n\n    <v-card-text>\n      <v-form class=\"multi-col-validation mt-6\">\n        <v-row>\n          <v-col\n              md=\"6\"\n              cols=\"12\"\n          >\n<!--            <v-text-field-->\n<!--                v-model=\"info.realname\"-->\n<!--                label=\"姓名\"-->\n<!--                dense-->\n<!--                outlined-->\n<!--                disabled-->\n<!--            ></v-text-field>-->\n          </v-col>\n\n          <v-col\n              md=\"6\"\n              cols=\"12\"\n          >\n<!--            <v-text-field-->\n<!--                v-model=\"info.idno\"-->\n<!--                label=\"身份证号\"-->\n<!--                dense-->\n<!--                outlined-->\n<!--                disabled-->\n<!--            ></v-text-field>-->\n          </v-col>\n\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"info.username\"\n              label=\"昵称\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"info.phone\"\n              label=\"手机号\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"info.email\"\n              label=\"E-mail\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"info.age\"\n              dense\n              label=\"年龄\"\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-select\n              v-model=\"info.addr\"\n              dense\n              outlined\n              label=\"住址\"\n              :items=\"status\"\n            ></v-select>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"info.intro\"\n              dense\n              outlined\n              label=\"个人签名\"\n            ></v-text-field>\n          </v-col>\n\n          <!-- alert -->\n          <v-col cols=\"12\">\n            <v-alert\n              color=\"warning\"\n              text\n              class=\"mb-0\"\n            >\n              <div class=\"d-flex align-start\">\n                <v-icon color=\"warning\">\n                  {{ icons.mdiAlertOutline }}\n                </v-icon>\n\n                <div class=\"ms-3\">\n                  <p class=\"text-base font-weight-medium mb-1\">\n                    必须点击保存后，用户信息数据才会传到系统后台.\n                  </p>\n                  <a\n                      href=\"javascript:void(0)\"\n                      class=\"text-decoration-none warning--text\"\n                  >\n                    <span class=\"text-sm\">特别注意</span>\n                  </a>\n                </div>\n              </div>\n            </v-alert>\n          </v-col>\n\n          <v-col cols=\"12\">\n            <v-btn\n              color=\"primary\"\n              class=\"me-3 mt-4\"\n              @click=\"save\"\n            >\n              保存修改\n            </v-btn>\n            <v-btn\n              color=\"secondary\"\n              outlined\n              class=\"mt-4\"\n              type=\"reset\"\n              @click.prevent=\"resetForm\"\n            >\n              取消\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { mdiAlertOutline, mdiCloudUploadOutline } from '@mdi/js'\nimport {doupload} from \"../../api/upload\";\nimport {get, update} from \"../../api/user\";\nimport mixin from \"../../mixins/mixins\";\n\nexport default {\n  components:{},\n  mixins: [mixin],\n  props: {\n    accountData: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data : () => ({\n    status: ['江苏省', '北京市', '上海市', '深圳市'],\n    accountDataLocale: [],\n    icons: {\n      mdiAlertOutline,\n      mdiCloudUploadOutline,\n    },\n    avatar: require('@/assets/images/avatars/1.png'),\n    info: {}\n  }),\n  async mounted() {\n    this.accountDataLocale = JSON.parse(JSON.stringify(this.accountData))\n    await get(this.uid).then(res => {\n       this.info = res.data.data\n      // console.log(this.info)\n    })\n  },\n  methods:{\n    resetForm(){\n      this.accountDataLocale.value = JSON.parse(JSON.stringify(this.accountData))\n    },\n    getImages(el){\n      const file = el.target.files[0]\n      console.log(file)\n      const type = file.type.split(\"/\")[0]\n      if (type === \"image\"){\n        doupload(file).then(res=>{\n          this.avatar = this.serverImg(res.data.data)\n          this.info.avatar = this.serverImg(res.data.data)\n        })\n      }else{\n        this.$snackbar({content: '只能上传图片格式', top:true, center:true, color:'red',multiLine: true})\n      }\n    },\n    save(){\n      const form = {\"id\" :this.uid, \"phone\": this.info.phone, \"email\": this.info.email, \"addr\": this.info.addr ,\n      \"avatar\": this.info.avatar, \"intro\": this.info.intro , \"age\":this.info.age, \"realname\": \"\"}\n      update(form).then(()=>{\n        this.$store.dispatch('setAvatar', this.info.avatar)  //设置一下头像\n        this.$snackbar({content: '更新成功', top:true, center:true, color:'green',multiLine: true})\n      })\n    }\n  },\n}\n</script>\n"]}]}